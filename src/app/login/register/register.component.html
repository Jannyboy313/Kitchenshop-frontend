<div>
    <div class="container vertical-center">
        <form class="container-fluid" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <header>Register</header>
            <div *ngIf="isError" class="alert alert-danger">
                {{errorMessage}}
            </div>
            <div class="form-group col item">
                <label>
                    Firstname
                </label>
                <input
                    type="text"
                    placeholder="Fill in firstname"
                    formControlName="firstname"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('firstname') || isError }"
                >
                <div *ngIf="isInValidInput('firstname')">
                    <div *ngIf="registerForm.controls['firstname'].errors.required" class="invalid-feedback d-block">
                        Firstname is required
                    </div>
                    <div *ngIf="registerForm.controls['firstname'].errors.pattern" class="invalid-feedback d-block">
                        Firstname must be a valid name
                    </div>
                </div>
            </div>

            <div class="form-group col item">
                <label>
                    Middlename
                </label>
                <input
                    type="text"
                    placeholder="Fill in middlename"
                    formControlName="middlename"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('middlename')}"
                >
                <div *ngIf="isInValidInput('middlename')">
                    <div *ngIf="registerForm.controls['middlename'].errors.pattern" class="invalid-feedback d-block">
                        Middlename must be a valid name
                    </div>
                </div>
            </div>

            <div class="form-group col item">
                <label >
                    Lastname
                </label>
                <input
                    type="text"
                    placeholder="Fill in lastname"
                    formControlName="lastname"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('lastname')  || isError}"
                >
                <div *ngIf="isInValidInput('lastname')">
                    <div *ngIf="registerForm.controls['lastname'].errors.required" class="invalid-feedback d-block">
                        Lastname is required
                    </div>
                    <div *ngIf="registerForm.controls['lastname'].errors.pattern" class="invalid-feedback d-block">
                        Lastname must be a valid name
                    </div>
                </div>
            </div>


            <div class="form-group col item">
                <label>
                    City
                </label>
                <input
                    type="text"
                    placeholder="Fill in city"
                    formControlName="city"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('city')  || isError}"
                >
                <div *ngIf="isInValidInput('city')">
                    <div *ngIf="registerForm.controls['city'].errors.required" class="invalid-feedback d-block">
                        City is required
                    </div>
                    <div *ngIf="registerForm.controls['city'].errors.pattern" class="invalid-feedback d-block">
                        City must be a valid name
                    </div>
                </div>
            </div>

            <div class="form-group col item">
                <label>
                    Street address
                </label>
                <input
                    type="text"
                    placeholder="Fill in street address"
                    formControlName="street_address"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('street_address')  || isError}"
                >
                <div *ngIf="isInValidInput('street_address')">
                    <div *ngIf="registerForm.controls['street_address'].errors.required" class="invalid-feedback d-block">
                        Street address is required
                    </div>
                    <div *ngIf="registerForm.controls['street_address'].errors.pattern" class="invalid-feedback d-block">
                        Street address must be valid
                    </div>
                </div>
            </div>

            <div class="form-group col item">
                <label >
                    Zipcode
                </label>
                <input
                    type="text"
                    placeholder="Fill in zipcode"
                    formControlName="zipcode"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('zipcode')  || isError}"
                >
                <div *ngIf="isInValidInput('zipcode')">
                    <div *ngIf="registerForm.controls['zipcode'].errors.required" class="invalid-feedback d-block">
                        Zipcode is required
                    </div>
                    <div *ngIf="registerForm.controls['zipcode'].errors.pattern" class="invalid-feedback d-block">
                        Zipcode must be valid
                    </div>
                </div>
            </div>

            <div class="form-group col item">
                <label>
                    Emailadres
                </label>
                <input
                    type="email"
                    placeholder="Fill in emailadres"
                    formControlName="email"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('email')  || isError}"
                >
                <div *ngIf="isInValidInput('email')">
                    <div *ngIf="registerForm.controls['email'].errors.required" class="invalid-feedback d-block">
                        Email is required
                    </div>
                    <div *ngIf="registerForm.controls['email'].errors.pattern" class="invalid-feedback d-block">
                        Must be a valid email format
                    </div>
                </div>
            </div>


            <div class="form-group col item item-last">
                <label>
                    Password
                </label>
                <input
                    type="password"
                    placeholder="Fill in password"
                    formControlName="password"
                    required minlength="8"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('password')  || isError}"
                >
                <div *ngIf="isInValidInput('password')">
                    <div *ngIf="registerForm.controls['password'].errors.required" class="invalid-feedback d-block">
                        Password is required
                    </div>
                    <div *ngIf="registerForm.controls['password'].errors.minlength" class="invalid-feedback d-block">
                        Password must be at least 8 characters
                    </div>
                </div>
            </div>

            <button
            type="button"
            class="btn float-left cancel"
            (click)="cancel()"
        >
            cancel
        </button>
            <button
                type="submit"
                class="btn float-right"
                [disabled]="isLoading"
            >
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm mr-1"></span>
                Register
            </button>
        </form>
    </div>
</div>