<div>
    <div class="container vertical-center">
        <form class="container-fluid" [formGroup]="createProductForm" (ngSubmit)="onSubmit()">
            <header>Create Product</header>
            <div *ngIf="isError" class="alert alert-danger">
                {{errorMessage}}
            </div>
            <div class="form-group col item">
                <label>
                    Product name
                </label>
                <input
                    type="text"
                    placeholder="Fill in product name"
                    formControlName="name"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('name') || isError }"
                >
                <div *ngIf="isInValidInput('name')">
                    <div *ngIf="createProductForm.controls['name'].errors.required" class="invalid-feedback d-block">
                        Product name is required
                    </div>
                    <div *ngIf="createProductForm.controls['name'].errors.pattern" class="invalid-feedback d-block">
                        Product name must be a valid name
                    </div>
                    <div *ngIf="createProductForm.controls['name'].errors.maxlength" class="invalid-feedback d-block">
                        Product name can't be longer then 50 characters
                    </div>
                </div>
            </div>

            <div class="form-group col item">
                <label>
                    Description
                </label>
                <textarea
                    class="form-control"
                    formControlName="description"
                    [ngClass]="{ 'is-invalid': isInValidInput('description') || isError }"
                ></textarea>
                <div *ngIf="isInValidInput('description')">
                    <div *ngIf="createProductForm.controls['name'].errors.maxlength" class="invalid-feedback d-block">
                        Description can't be longer then 1000 characters
                    </div>
                </div>
            </div>

            <div class="form-group col item">
                <label >
                    Price
                </label>
                <input
                    type="text"
                    placeholder="Fill in the price"
                    formControlName="price"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('price')  || isError}"
                >
                <div *ngIf="isInValidInput('price')">
                    <div *ngIf="createProductForm.controls['price'].errors.required" class="invalid-feedback d-block">
                        Price is required
                    </div>
                    <div *ngIf="createProductForm.controls['price'].errors.pattern" class="invalid-feedback d-block">
                        Not valid price use dot(.) > 9.50
                    </div>
                </div>
            </div>


            <div class="form-group col item">
                <label>
                    Stock
                </label>
                <input
                    type="text"
                    placeholder="Fill in stock"
                    formControlName="stock"
                    required
                    class="form-control"
                    [ngClass]="{ 'is-invalid': isInValidInput('stock')  || isError}"
                >
                <div *ngIf="isInValidInput('stock')">
                    <div *ngIf="createProductForm.controls['stock'].errors.required" class="invalid-feedback d-block">
                        Stock is required
                    </div>
                </div>
            </div>

            <button
                type="button"
                class="btn float-left cancel"
                (click)="reset()"
                >
                reset
            </button>
            <button
                type="submit"
                class="btn float-right"
                [disabled]="isLoading"
            >
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm mr-1"></span>
                Add
            </button>
        </form>
    </div>
</div>